{% extends "base.html" %}

{% block content %}
  <h1>
    Username: {{ worker.username }}
  </h1>

  <p><strong>First name:</strong> {{ worker.first_name }}</p>
  <p><strong>Last name:</strong> {{ worker.last_name }}</p>
  <p><strong>Position:</strong> {{ worker.position }}</p>

    {% if worker.teams.all %}
      <p><strong>Teams:</strong></p>
      <ul>
        {% for team in worker.teams.all %}
          <li><a href="{% url 'task:team-detail' pk=team.id %}">{{ team.name }}</a></li>
        {% empty %}
          <li>No teams assigned.</li>
        {% endfor %}
      </ul>
    {% else %}
      No teams assigned. <br>
    {% endif %}

  {% if worker.projects.all %}
    <p><strong>Projects:</strong></p>
    <ul>
      {% for project in worker.projects.all %}
        <li><a href="{% url 'task:project-detail' pk=project.id %}">{{ project.name }}</a></li>
      {% empty %}
        <li>No projects assigned.</li>
      {% endfor %}
    </ul>
  {% else %}
    No projects assigned. <br>
  {% endif %}

  {% if worker.assigned_tasks.all %}
    <p><strong>Assigned Tasks:</strong></p>
    <ul>
      {% for task in worker.assigned_tasks.all %}
        <li><a href="{% url 'task:task-detail' pk=task.id %}">{{ task.name }} (Deadline: {{ task.deadline }} - Project: {{ task.project.name }})</a></li>
      {% empty %}
        <li>No tasks assigned.</li>
      {% endfor %}
    </ul>
  {% else %}
    No tasks assigned. <br>
  {% endif %}

  <a href="{% url 'task:worker-update' pk=worker.id %}" class="btn btn-primary">Update</a>
  <a href="{% url 'task:worker-delete' pk=worker.id %}" class="btn btn-danger">Delete</a>
{% endblock %}
